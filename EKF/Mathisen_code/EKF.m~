function [x_hat, P] = EKF_step(sat_poss, pr, u, ekf)
    global n_const n_messure
    %%Validity checks
    if ~exist n_const
        error('Init script not run')
    end
    
    %%Initial variables
    n_sat = size(sat_poss, 1);
    n = n_sat + n_const;
    
    %%Kalman algorithm
    G = geometric_matrix(x_hat, sat_poss, pr);
    ekf.H = zeros(n_const
    
    K = 

end

%x_dot = Ax + Bu
%x = [p; v; theta; b_a; b_w; b_c; pseu(..)]';
%u = [a, w];